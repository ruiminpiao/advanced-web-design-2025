<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Design Trends</title>
    <link rel="stylesheet" href="../assets/css/designtrends.css" />
  </head>

  <body>
    <div class="header">
      <h1>The Random Site</h1>
      <p>
        Welcome to everyone who has unintentionally ended up in this mess of a
        site.
      </p>
    </div>

    <div class="parallax-bg">
      <div>Barcelona</div>
    </div>

    <div class="container">
      <div class="glass-card">
        <h3>Why this picture?</h3>
        <p>
          In August 2025, I went to Barcelona for BLACKPINK's concert.
          <br /><br />Because it was my first concert, I asked a lot of people
          about some concert lore, and I ended up deciding to make some stickers
          to give away. This is the image that I edited to create some stamp
          stickers.
        </p>
        <button class="glass-button">Click here</button>
      </div>

      <div class="glass-card glass-card-light">
        <h3>Why these colours?</h3>
        <p>
          This one is easy. The group I went to see is named after two colors:
          back and pink. <br /><br />Because I used black for other elements for
          the final design of the sticker, I decided to make the image pink so
          that it would also create contrast with the text that would be on top
          of it.
        </p>
        <button class="glass-button">Click here</button>
      </div>

      <div class="glass-card glass-card-dark">
        <h3>Why this concert?</h3>
        <p>
          Honestly, BLACKPINK was the first k-pop group that I ever stanned.
          <br /><br />In December 2022, they had a concert in Barcelona too.
          However, I couldn't attend. So I didn't hesitate on buying the tickets
          this time when they came out, hoping that i could finally see them
          performing live.
        </p>
        <button class="glass-button">Click here</button>
      </div>
    </div>

    <div class="content">
      <h2>What Is This Page?</h2>
      <p>
        It is just a page to try exercises about website trends. Don't think to
        much about it, we all know it is <strong>NOT</strong> nice to scroll
        through it.
        <br />
        However, no one is actually asking you to really look through this page
        in detail... So why are you?
      </p>

      <h2>This is a technique to create a: CSS Fixed Background</h2>
      <p>Just because.</p>

      <div class="code-box">
        <code>
          .parallax-bg {
          <br />
          &nbsp;&nbsp;background-image: url('image.jpg');
          <br />
          &nbsp;&nbsp;min-height: 400px;
          <br />
          &nbsp;&nbsp;background-attachment: fixed;
          <br />
          &nbsp;&nbsp;background-position: center;
          <br />
          &nbsp;&nbsp;background-size: cover;
          <br />
          }
        </code>
      </div>

      <div class="comparison">
        <h3>Why Use It?</h3>
        <ul>
          <li>
            <strong>Engagement:</strong>
            Makes sites more engaging (users scroll longer)
          </li>
          <li>
            <strong>Storytelling:</strong>
            Helps tell a story visually through layers
          </li>
          <li>
            <strong>Depth:</strong>
            Creates a sense of 3D space on a 2D screen
          </li>
        </ul>
        <h3>‚ö†Ô∏è Cautions:</h3>
        <ul>
          <li>Can cause motion sickness in some users</li>
          <li>May impact performance on older devices</li>
          <li>Doesn't work well on mobile (iOS Safari doesn't support it)</li>
          <li>Use sparingly for best effect</li>
        </ul>
      </div>

      <div class="reflection">
        <strong>Atelier Reflection:</strong>
        Does the parallax effect make this page feel more "alive"? Why or why
        not? Does it enhance your understanding of the content, or is it purely
        decorative? Consider the balance between visual interest and
        accessibility.
      </div>
    </div>

    <div class="normal-bg">
      <div>This is NOT alcohol</div>
    </div>

    <div class="content">
      <h2>What is this picture?</h2>
      <p>
        Last semester, we had to make a final assignment for our photography
        subject. Because of how broad the briefing was (it was
        <strong>literally</strong> to create a trilogy of anything that we
        wanted to), I didn't know what I wanted to do. <br /><br />At first, I
        got inspired to do a trilogy that followed a love story that ended in
        betrayal (don't ask me how I was supposed to do that with only three
        pictures, but I do think that my sketches were really great). I had the
        name, and the model, along with all the materials that I was gonna need.
        But the worst thing that could have happened...
        <strong>happened.</strong> The pictures were definitely not turning out
        the way I wanted them to and I eneded up having a long mental breakdown.
        <br /><br />I sat there for ours contemplating my whole existence, until
        suddenly, a new idea came to me. <br /><br />The result turned out to be
        pretty good, and I created a story making a big reference to the saying
        of the glass being half full or half empty. <br /><br />(You cannot
        really appreciate the picture, but it was
        <strong><em>in fact</em></strong> a pretty beautiful trilogy with a deep
        meaning behind it, so sue me for wanting to make something deep in pink.
        <br />PS. The other two pictures were green and orange, which are also
        beautiful images.)
      </p>
    </div>

    <!-- JavaScript-based Parallax with Multiple Layers -->
    <div class="parallax-js-section" id="js-parallax">
      <div class="parallax-layer layer-back" data-speed="0.2">üåå</div>
      <div class="parallax-layer layer-middle" data-speed="0.5">‚òÅÔ∏è</div>
      <div class="parallax-layer layer-front" data-speed="0.8">Hi there!</div>
    </div>

    <div class="content">
      <h2>The color pink</h2>
      <p>
        If you are wondering if this is gonna be an endless dissertation on the
        color pink... <em>Please</em>, you can continue scrolling or simply
        leave this page. <br /><br />What I came to say here, is that pink is
        known to be a favorite for little girls. But what I noticed is that a
        lot of young kids also starting dreading this color, me included.
        <br /><br />But with time, as I've grown older, I've come to the
        realisation of how of an amazing color this is. Ever since I started
        college, I learned to trully appreciate colors, especially pink, which I
        am truly grateful for. <br /><br />Therefore, if I am fully honest,
        whoever hates one specific color, it's their loss.
      </p>
    </div>

    <!-- Image-based Parallax Layers -->
    <div class="parallax-image-section" id="image-parallax">
      <div class="image-layer image-layer-1" data-speed="0.3"></div>
      <div class="image-layer image-layer-2" data-speed="0.6"></div>
      <div class="image-layer image-layer-3" data-speed="0.9"></div>
      <div class="speed-indicator">
        3 image layers ‚Ä¢ Speeds: slow (0.3) ‚Üí medium (0.6) ‚Üí fast (0.9)
      </div>
    </div>

    <div class="content">
      <h2>Technique 3: Multi-Layer Images</h2>
      <p>
        The section above combines multiple background images moving at
        different speeds to create a 3D depth effect.
      </p>

      <div class="comparison">
        <h3>üìä Comparison of All 3 Techniques:</h3>
        <table style="width: 100%; border-collapse: collapse; margin-top: 1rem">
          <tbody>
            <tr style="background: #f8f9fa; font-weight: bold">
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                Technique
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                Implementation
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                Mobile Support
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                Complexity
              </td>
            </tr>
            <tr>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                <strong>CSS Fixed</strong>
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                background-attachment: fixed
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚ùå Limited
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚≠ê Very simple
              </td>
            </tr>
            <tr>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                <strong>JS Transform</strong>
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                transform: translateY()
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚úÖ Works
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚≠ê‚≠ê Medium
              </td>
            </tr>
            <tr>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                <strong>Multi-layer</strong>
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                Multiple elements + JS
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚úÖ Works
              </td>
              <td style="padding: 0.75rem; border: 1px solid #dee2e6">
                ‚≠ê‚≠ê‚≠ê Advanced
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="reflection">
        <strong>Final Reflection:</strong>
        Which technique do you prefer? CSS is perfect for simple sites.
        JavaScript offers full control but requires more code. Multi-layer
        creates the most impressive effects but may impact performance.
        <strong>The best choice depends on your specific project.</strong>
      </div>
    </div>

    <script>
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia(
        "(prefers-reduced-motion: reduce)"
      );
      let isReducedMotion = prefersReducedMotion.matches;

      // Handle CSS-based parallax
      function handleMotionPreference() {
        const parallaxElements = document.querySelectorAll(".parallax-bg");

        if (isReducedMotion) {
          // User prefers reduced motion - disable parallax
          parallaxElements.forEach((el) => {
            el.style.backgroundAttachment = "scroll";
          });
          console.log("Parallax disabled: user prefers reduced motion");
        }
      }

      // JavaScript-based Parallax Implementation
      function initParallax() {
        if (isReducedMotion) {
          console.log(
            "JS Parallax disabled: respecting reduced motion preference"
          );
          return;
        }

        const parallaxLayers = document.querySelectorAll(
          ".parallax-layer, .image-layer"
        );
        let ticking = false;

        function updateParallax() {
          parallaxLayers.forEach((layer) => {
            const speed = parseFloat(layer.dataset.speed) || 0.5;
            const section = layer.parentElement;
            const rect = section.getBoundingClientRect();

            // Only animate when section is in viewport
            if (rect.top < window.innerHeight && rect.bottom > 0) {
              // Calculate scroll position relative to section's position
              const sectionTop = section.offsetTop;
              const scrolled = window.pageYOffset;
              const offset = scrolled - sectionTop;
              const yPos = offset * speed * 0.5; // Multiply by 0.5 to reduce movement

              // Use transform for better performance
              layer.style.transform = `translateY(${yPos}px)`;
            }
          });

          ticking = false;
        }
        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(updateParallax);
            ticking = true;
          }
        }

        // Throttle scroll events using requestAnimationFrame
        window.addEventListener("scroll", requestTick, { passive: true });

        // Initial update
        updateParallax();
      }

      // Initialize everything
      handleMotionPreference();
      initParallax();

      // Listen for motion preference changes
      prefersReducedMotion.addEventListener("change", (e) => {
        isReducedMotion = e.matches;
        handleMotionPreference();

        if (isReducedMotion) {
          // Reset all transforms
          document
            .querySelectorAll(".parallax-layer, .image-layer")
            .forEach((layer) => {
              layer.style.transform = "translateY(0)";
            });
        } else {
          initParallax();
        }
      });

      // Log performance info for learning
      console.log("üé¨ Parallax Demo Loaded");
      console.log(
        "üìä Layers detected:",
        document.querySelectorAll(".parallax-layer, .image-layer").length
      );
      console.log(
        "‚ôø Reduced motion:",
        isReducedMotion ? "ENABLED" : "DISABLED"
      );
    </script>
  </body>
</html>
